<html>
    <head>
        <title>WebXR Multi-User Experience</title>
        <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
        <script src="https://unpkg.com/aframe-environment-component@1.3.3/dist/aframe-environment-component.min.js"></script>
        <!-- <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-physics-system@v4.2.2/dist/aframe-physics-system.min.js"></script> -->
        <script src="/socket.io/socket.io.js"></script>
        <script src="https://unpkg.com/tone"></script>
        <!-- Scripts -->
        <script src="js/play-note.js"></script>
        <script src="js/piano-note.js"></script>
        <script src="js/piano-spawn.js"></script>
        <script src="js/black-key.js"></script>

        <!-- Stylesheet links -->
        <link rel="stylesheet" href="/css/user-gesture.css">
    </head>
    <body>
        <body>
            <!-- by having a 2D "user gesture" we can allow sounds to play and the like. We will make it an overlay so nothing can be clicked before the user gesture ... -->
            <!-- https://developers.google.com/web/updates/2017/09/autoplay-policy-changes (fun memes on webpage;) -->
            <!-- <div id="user-gesture-overlay">
              <div class="center">
                <button class="user-gesture-button-blue" style="display: block;">
                    <a href="collaborative.html">Collaborate on music</a>
                </button>
                <button class="user-gesture-button" style="display: block;">
                    <a href="notegame.html">Play ear training game</a>
                </button>
              </div>
            </div> -->
            <a-scene start-experience>
                <!-- Game manager -->
                 <a-entity game-manager></a-entity>
                <!-- Player -->
                <a-entity id="player"
                player
                camera
                wasd-controls
                look-controls
                position="0 1.6 0"
                >
                    <!-- Raycaster -->
                    <a-entity id="player-raycaster" cursor="rayOrigin:mouse;" raycaster="far:20; interval:200; objects:.interactive"></a-entity>
                </a-entity>
    
                <!-- Lights -->
                 
                <a-entity light="intensity: 0.5;" position="0 8.35603 6.40487" rotation="33.30374479977423 179.9998479605043 179.9998479605043"></a-entity>
                
                <!-- Game screen -->
    
                <a-plane id="game-screen" position="0 2.43287 -12" material="color: white; shader: flat;" geometry="height: 2.36; width: 3.37">
                    <a-cylinder id="button-pedestal" radius="1" position="0 -2 0">
                        <a-cylinder 
                            id="game-button"
                            class="interactive"
                            radius="0.2"
                            material="color: red;"
                            position="0 0.2487 0"
                            animation__click="property:position.y; from:0.1; to:0.2487; startEvents:click; dur:300"
                        ></a-cylinder>
                    </a-cylinder>
                </a-plane>
                <!-- Piano -->
                <a-box
                    id="piano-spawn"
                    piano-spawn
                    position="0 0.13 -8"
                    material="color: black;"
                    position="0 0.25 0"
                    width="7.5"
                    height="0.26"
                    depth="1.8"
                >
                    <a-box
                        id="piano-backpiece"
                        position="0 0.3 -0.75"
                        material="color: black;"
                        position="0 0.25 0"
                        width="7.5"
                        height="0.4"
                        depth="0.3"
                    ></a-box>
                    <a-box class="interactive piano-note" black-key piano-note="note: C#3" position="-3.22258 0.3 -0.17921" material="color: black" depth="1" height="0.3" width="0.30"></a-box>
                    <a-box class="interactive piano-note" black-key piano-note="note: D#3" position="-2.71826 0.3 -0.17921" material="color: black" depth="1" height="0.3" width="0.30"></a-box>
                    <a-box class="interactive piano-note" black-key piano-note="note: F#3" position="-1.7479 0.3 -0.17921" material="color: black" depth="1" height="0.3" width="0.30"></a-box>
                    <a-box class="interactive piano-note" black-key piano-note="note: G#3" position="-1.2569 0.3 -0.17921" material="color: black" depth="1" height="0.3" width="0.30"></a-box>
                    <a-box class="interactive piano-note" black-key piano-note="note: A#3" position="-0.76768 0.3 -0.17921" material="color: black" depth="1" height="0.3" width="0.30"></a-box>
                    <a-box class="interactive piano-note" black-key piano-note="note: C#4" position="0.20623 0.3 -0.17921" material="color: black" depth="1" height="0.3" width="0.30"></a-box>
                    <a-box class="interactive piano-note" black-key piano-note="note: D#4" position="0.70041 0.3 -0.179" material="color: black" depth="1" height="0.3" width="0.30"></a-box>
                    <a-box class="interactive piano-note" black-key piano-note="note: F#4" position="1.68533 0.3 -0.17921" material="color: black" depth="1" height="0.3" width="0.30"></a-box>
                    <a-box class="interactive piano-note" black-key piano-note="note: G#4" position="2.18132 0.3 -0.17921" material="color: black" depth="1" height="0.3" width="0.30"></a-box>
                    <a-box class="interactive piano-note" black-key piano-note="note: A#4" position="2.67089 0.3 -0.17921" material="color: black" depth="1" height="0.3" width="0.30"></a-box>
                </a-box>
                <a-entity environment="preset: starry;"></a-entity>
            </a-scene>
        <script>
        </script>
    </body>
</html>